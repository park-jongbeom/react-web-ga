# 매칭 결과 화면 디자인 명세서

## 1. 디자인 개요

### 1.1 목표
- **용도**: 투자자 데모용 "Personalized Study Report"
- **컨셉**: 전문 리포트 스타일, 단일 페이지 문서형 레이아웃
- **레퍼런스**: 프로젝트 내 제공된 레퍼런스 이미지 (Personalized Study Report)

### 1.2 디자인 원칙
- 흰색·회색·녹색·주황색 팔레트
- 섹션별 아이콘 + 볼드 타이틀
- 카드형 컴포넌트, 그림자·테두리로 구분
- 반응형 고려 (가로 배치 → 작은 화면에서 세로 스택)

---

## 2. 화면 구조 상세

### 2.1 헤더 (Header)

| 항목 | 명세 |
|------|------|
| **좌측** | GO ALMOND 로고, "AI-MATCHING INTELLIGENCE" 태그라인 (회색) |
| **우측** | "Personalized Study Report" (볼드, 큰 폰트) |
| **우측 하단** | User: [사용자명], Ref: GA-YYYY-MATCH-XXXX, Date: [날짜] (작은 폰트) |
| **스타일** | 배경 흰색, 하단 그림자로 섹션 구분 |

**데이터 소스**: 사용자명(AuthContext), Ref(matching_id 기반), Date(created_at 또는 현재일)

---

### 2.2 Executive Summary (요약 섹션)

| 항목 | 명세 |
|------|------|
| **타이틀** | "EXECUTIVE SUMMARY" + 녹색 체크/문서 아이콘 |
| **본문** | 사용자 프로필 기반 요약 문단 (전공, 예산, 희망 지역 등) |
| **Top 3 카드** | 가로 3열 배치 |
| **1위 카드** | 녹색 배경/테두리, "98% MATCH" 배지, "Rank #1 Recommendation" (녹색) |
| **2·3위 카드** | 흰색 배경, 회색 테두리, "92% Match Rate" 등 |
| **카드 내부** | 학교 아이콘(건물), 학교명, 프로그램명, 매칭률/순위 |

**데이터 소스**: `MatchingResponse.results` 상위 3건, `result.total_matches`, 프로필 요약(전공/예산/지역)

---

### 2.3 Matching Indicators (매칭 지표 섹션)

| 항목 | 명세 |
|------|------|
| **레이아웃** | 2단: 좌측 Radar Chart, 우측 막대 그래프 + 설명 |
| **좌측** | 6각형 Radar Chart, 축: SCHOOL, REGION, MAJOR, BUDGET, DURATION, CAREER, 녹색 음영 |
| **우측 타이틀** | "MATCHING INDICATORS" + 주황색 막대차트 아이콘 |
| **막대 그래프** | 3행: ACADEMIC FIT, CAREER OUTLOOK, COST EFFICIENCY (녹색/주황색 세그먼트) |
| **설명 박스** | 주황색 테두리, 개인화 설명 문구 (예: Career-Region 상관, Silicon Valley 등) |

**데이터 소스**: `score_breakdown` (academic, location, career, budget, duration 등), `explanation`

---

### 2.4 Deep Dive: Top Match (1위 상세)

| 항목 | 명세 |
|------|------|
| **타이틀** | "DEEP DIVE: TOP MATCH" + 녹색 체크 아이콘 |
| **우측 상단** | "Primary Recommendation" 배지(검정), "Download PDF Report" 버튼(녹색) |
| **좌측** | 학교 로고/아이콘, "UC BERKELEY" 등 약칭 |
| **중앙** | 학교 전체명, "Global Ranking: #4 (Computer Science)" (녹색), 평균 초봉, 네트워크 규모, 특징 배지 |
| **특징 배지** | OPT STEM ELIGIBLE, ON-CAMPUS HOUSING, INDUSTRY PARTNERSHIPS (회색 테두리) |
| **우측** | "EST. ROI 12.5% Yearly" (주황색 강조) |

**데이터 소스**: `results[0]` (school, program, explanation, pros, cons), 백엔드 확장 시 ROI/급여/랭킹/네트워크

---

### 2.5 How to Apply: Next Steps (지원 단계)

| 항목 | 명세 |
|------|------|
| **배경** | 어두운 청록/녹색 배경, 흰색 텍스트 |
| **타이틀** | "HOW TO APPLY: NEXT STEPS" |
| **구성** | 4단계 가로 배치, 원형 번호(1 녹색, 2–4 회색) |
| **Step 1** | Document Audit – "Upload your GPA and test scores for final review." |
| **Step 2** | SOP Workshop – "Schedule session with our specialized editors." |
| **Step 3** | Portal Access – "Go Almond will open your common app dashboard." |
| **Step 4** | Visa Prep – "Start I-20 documentation and interview training." |

**데이터 소스**: 정적 콘텐츠 (선택 시 다국어/설정 가능)

---

### 2.6 푸터 (Footer)

| 항목 | 명세 |
|------|------|
| **좌측** | "Generated by Go Almond AI Engine v2.4. Protected under Digital IP Policy." (회색, 작은 폰트) |
| **우측** | "CONFIDENTIAL - PAGE 01/01" (회색, 작은 폰트) |
| **배경** | 흰색 또는 연한 회색 |

---

## 3. 컴포넌트 명세

### 3.1 섹션별 필요 컴포넌트

| 섹션 | 컴포넌트 | 용도 |
|------|----------|------|
| 헤더 | `ReportHeader` | 로고, 타이틀, User/Ref/Date |
| Executive Summary | `ExecutiveSummary`, `TopThreeCard` | 요약 문단, Top 3 가로 카드 |
| Matching Indicators | `MatchingRadarChart`, `MatchingIndicatorBars`, `ExplanationBox` | Radar, 막대 3개, 설명 박스 |
| Deep Dive | `TopMatchDetail`, `FeatureBadges`, `DownloadPdfButton` | 1위 상세, 배지, PDF 버튼 |
| How to Apply | `NextStepsSection`, `StepItem` | 4단계 리스트 |
| 푸터 | `ReportFooter` | 생성 정보, 기밀 표시 |

### 3.2 주요 컴포넌트 Props (목표)

- **TopThreeCard**: `item: MatchingResultItem`, `rank: number`, `isPrimary: boolean`
- **MatchingIndicatorBars**: `scores: { academicFit, careerOutlook, costEfficiency }` (0–100 또는 5단계)
- **ExplanationBox**: `text: string`, `variant?: 'default' | 'accent'` (주황 테두리)
- **TopMatchDetail**: `item: MatchingResultItem`, 확장 필드(roi, salary, ranking, networkSize, badges)
- **ReportHeader**: `userName: string`, `refId: string`, `date: string`

### 3.3 디자인 토큰 매핑

| 레퍼런스 | 토큰 |
|----------|------|
| 녹색(강조/1위) | `primary-600`, `primary-50`, `success-600` |
| 주황(ROI/설명 박스) | `accent-500`, `accent-600`, `warning-50` |
| 회색(보조 텍스트) | `foreground-muted`, `border`, `neutral-500` |
| 어두운 섹션 배경 | `primary-800` 또는 커스텀 `--color-report-dark` |
| 그림자 | `shadow-md`, `shadow-lg` |

---

## 4. 현재 구현 Gap 분석

### 4.1 구현 완료 항목

| 항목 | 구현 위치 | 비고 |
|------|-----------|------|
| 기본 헤더(타이틀) | `MatchingResult.tsx` | "당신의 매칭 결과입니다", 부제 |
| 매칭률 게이지 | `MatchingScoreGauge` | 1위 total_score 기준 퍼센트 |
| Radar Chart (6대 지표) | `MatchingRadarChart` | 학업/영어/예산/지역/기간/진로 |
| 추천 학교 카드 | `SchoolRecommendationCard`, `BaseGrid` | 2단 그리드, rank/학교명/프로그램/학비/설명/pros·cons |
| 에러/로딩 상태 | `MatchingResult.tsx` | 스피너, 에러 메시지, 프로필 이동 버튼 |
| Fallback 메시지 | `MatchingResult.tsx` | `result.message` 표시 |

### 4.2 미구현 항목 (Gap)

#### 우선순위 높음 (투자자 데모 핵심)
- Report 형식 헤더: 사용자명, Ref#, 날짜
- Executive Summary: 프로필 요약 텍스트
- Top 3 요약 카드: 가로 3열, 1위 강조(녹색 테두리/배지)
- 1위 상세(Deep Dive): ROI, 평균 초봉, 네트워크 규모, 글로벌 랭킹, 특징 배지

#### 우선순위 중간 (Report 완성도)
- Matching Indicators 우측: 막대 그래프 3개 + 설명 박스(주황 테두리)
- 섹션별 아이콘 + 타이틀 스타일
- "Primary Recommendation" 배지, "Download PDF Report" 버튼
- 전문 Report 스타일링(그림자, 배경색, 타이포)

#### 우선순위 하단 (부가 기능)
- "How to Apply: Next Steps" 4단계 섹션
- PDF Export 기능
- 푸터(생성 정보, CONFIDENTIAL)

### 4.3 데이터 Gap

**이제 API에서 제공** (매칭 API 확장 필드 연동 완료):
- **MatchingResultItem**: `estimated_roi` (number)
- **School**: `global_ranking`, `ranking_field`, `average_salary`, `alumni_network_count`, `feature_badges[]`
- 프론트는 `src/utils/matchingDataHelper.ts`로 포맷 후 표시, null 시 "N/A" 등 기본값 표시

### 4.4 프론트 정적/더미 데이터 목록 (현 단계)

**API 제공 (연동 완료)**: ROI, 평균 초봉, 글로벌 랭킹, 네트워크 규모, 특징 배지 — 백엔드 응답 필드 사용.

아래 항목은 **아직 백엔드 미제공**이며 프론트 정적/더미 값으로 표시합니다.

- **Next Steps**: Document Audit / SOP Workshop / Portal Access / Visa Prep
- **설명 박스 문구**: Career/Academic/Cost 지표 기반 요약 문장
- **푸터/페이지 라벨**: footerText, pageLabel

**정적 값 출처**: [src/data/matchingReportMock.ts](../../src/data/matchingReportMock.ts)

**API 필드 매핑 가이드**: [backend-data-requirements.md](./backend-data-requirements.md)

---

## 5. 구현 로드맵

### Phase 1: 핵심 정보 보강 (투자자 데모용)
1. Executive Summary 문단 추가 (프로필 기반 문구 또는 API 확장)
2. Top 3 요약 카드: 상위 3건 가로 배치, 1위 카드 녹색 강조
3. Report 헤더: 사용자명, Ref(matching_id), Date(created_at)
4. 1위 상세 블록: 기존 카드 확장 또는 `TopMatchDetail` 신규, ROI/급여/랭킹은 백엔드 확장 시 연동

### Phase 2: 전문 Report 스타일링
1. 헤더 리디자인(로고·타이틀·메타 정보)
2. 섹션별 아이콘 + "EXECUTIVE SUMMARY" 등 타이틀 스타일
3. 배경색·그림자·카드 테두리 정리
4. Matching Indicators 우측: 막대 그래프 3개 + 설명 박스

### Phase 3: 부가 기능
1. "How to Apply: Next Steps" 정적 섹션
2. PDF Export (클라이언트 생성 또는 백엔드 API)
3. 푸터 컴포넌트 및 기밀 표시

---

## 6. 백엔드 데이터 요구사항

### 6.1 현재 API로 가능한 항목
- 매칭률, 6대 지표(score_breakdown), 추천 이유(explanation), pros/cons
- 학교명, 프로그램명, 학비, 지역, 학위, opt_available

### 6.2 레퍼런스 구현을 위한 확장 요청 (선택)
- **School**: `global_ranking`, `ranking_field` (전공 등), `average_salary`, `alumni_network_count`, `feature_badges[]`
- **MatchingResultItem** 또는 **School**: `estimated_roi`
- Ref ID 형식: `GA-{year}-MATCH-{id}` (matching_id 기반)

### 6.3 협업 포인트
- [04_BACKEND_COOPERATION.md](../04_BACKEND_COOPERATION.md), [matching.md](https://github.com/park-jongbeom/ga-api-platform/blob/main/docs/api/matching.md) 참고
- 확장 필드 없이도 Phase 1–2는 진행 가능(일부는 Mock/정적 값으로 대체)

---

## 7. 참고 문서

- [prototype-requirements-2026-02-03.md](./prototype-requirements-2026-02-03.md): 프로토타입 요구사항
- [ui-components.md](../ui-components.md): Base 컴포넌트 및 디자인 토큰
- [04_BACKEND_COOPERATION.md](../04_BACKEND_COOPERATION.md): API 명세 및 협업

---

## 8. 변경 이력

- **2026-02-04**: 초기 작성 (레퍼런스 이미지 기반 화면 구성 분석, Gap 분석, 로드맵)
- **2026-02-04**: 프론트 정적/더미 데이터 목록 및 백엔드 요구사항 문서 링크 추가
- **2026-02-04**: 매칭 API 확장 필드 연동 완료 — ROI/급여/랭킹/네트워크/배지 API 제공 반영, 4.3·4.4 업데이트
